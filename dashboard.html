<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>SAWS Demo Dashboard</title>
  <link rel="stylesheet" href="style.css">
  <script>
    !function(t,e){var o,n,p,r;e.__SV||(window.posthog=e,e._i=[],e.init=function(i,s,a){function g(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(p=t.createElement("script")).type="text/javascript",p.crossOrigin="anonymous",p.async=!0,p.src=s.api_host.replace(".i.posthog.com","-assets.i.posthog.com")+"/static/array.js",(r=t.getElementsByTagName("script")[0]).parentNode.insertBefore(p,r);var u=e;for(void 0!==a?u=e[a]=[]:a="posthog",u.people=u.people||[],u.toString=function(t){var e="posthog";return"posthog"!==a&&(e+="."+a),t||(e+=" (stub)"),e},u.people.toString=function(){return u.toString(1)+".people (stub)"},o="init Ce js Ls Te Fs Ds capture Ye calculateEventProperties Us register register_once register_for_session unregister unregister_for_session Ws getFeatureFlag getFeatureFlagPayload isFeatureEnabled reloadFeatureFlags updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures on onFeatureFlags onSurveysLoaded onSessionId getSurveys getActiveMatchingSurveys renderSurvey canRenderSurvey canRenderSurveyAsync identify setPersonProperties group resetGroups setPersonPropertiesForFlags resetPersonPropertiesForFlags setGroupPropertiesForFlags resetGroupPropertiesForFlags reset get_distinct_id getGroups get_session_id get_session_replay_url alias set_config startSessionRecording stopSessionRecording sessionRecordingStarted captureException loadToolbar get_property getSessionProperty Bs zs createPersonProfile Hs Ms Gs opt_in_capturing opt_out_capturing has_opted_in_capturing has_opted_out_capturing get_explicit_consent_status is_capturing clear_opt_in_out_capturing Ns debug L qs getPageViewId captureTraceFeedback captureTraceMetric".split(" "),n=0;n<o.length;n++)g(u,o[n]);e._i.push([i,s,a])},e.__SV=1)}(document,window.posthog||[]);
    posthog.init('phc_AAPG4bGlc3lLS5sWb9nRw9xwyhTYKRu0JVhmYTwlk7B', {
        api_host: 'https://us.i.posthog.com',
        defaults: '2025-05-24',
        person_profiles: 'identified_only', // or 'always' to create profiles for anonymous users as well
    })
</script>
<script type="text/javascript">
  window.AppcuesSettings = { enableURLDetection: true };
</script>
<script src="//fast.appcues.com/223643.js"></script>
</head>
<body>
  <div class="container">
    <h1>SAWS Demo Dashboard</h1>
    <div id="userInfo"></div>
    <div class="bill-section">
      <h2>Balance Due</h2>
      <div class="balance-due">$92.10 <span style="color:#e53e3e;font-weight:bold;">(Unpaid)</span></div>
      <div class="last-payment">Last Payment: $87.23 on 2025-08-15</div>
      <div class="charges-due">Current Charges Due: <strong>$92.10</strong> <span style="font-size:12px;color:#888;">Any unpaid previous balance is due NOW</span></div>
      <button id="payNowBtn" class="pay-btn">Pay Now</button>
    </div>
    <div id="paymentModal" class="modal" style="display:none;">
      <div class="modal-content">
        <span class="close" id="closeModal">&times;</span>
        <h2>Enter Payment Info</h2>
        <form id="paymentForm">
          <label>Name on Card</label>
          <input type="text" required><br>
          <label>Card Number</label>
          <input type="text" maxlength="16" required><br>
          <label>Expiry</label>
          <input type="text" placeholder="MM/YY" required><br>
          <label>CVV</label>
          <input type="text" maxlength="4" required><br>
          <button type="submit" class="pay-btn">Confirm Payment</button>
        </form>
      </div>
    </div>
    <div id="confirmation" style="display:none;text-align:center;margin-top:20px;">
      <h2 style="color:#38a169;">Payment Successful!</h2>
      <p>Your bill has been paid.</p>
    </div>
  </div>
  <script>
    // Parse query parameters
    var params = new URLSearchParams(window.location.search);
    var user = params.get('user');
    var account = params.get('account');
    document.getElementById('userInfo').innerHTML = `
      <p><strong>User:</strong> ${user ? user : 'Demo User'}</p>
      <p><strong>Account ID:</strong> ${account ? account : 'N/A'}</p>
    `;

    // Payment modal logic
    var payBtn = document.getElementById('payNowBtn');
    var modal = document.getElementById('paymentModal');
    var closeModal = document.getElementById('closeModal');
    var paymentForm = document.getElementById('paymentForm');
    var confirmation = document.getElementById('confirmation');

    payBtn.onclick = function() {
      modal.style.display = 'block';
    };
    closeModal.onclick = function() {
      modal.style.display = 'none';
    };
    paymentForm.onsubmit = function(e) {
      e.preventDefault();
      modal.style.display = 'none';
      confirmation.style.display = 'block';
      document.querySelector('.balance-due').innerHTML = '$0.00 <span style="color:#38a169;font-weight:bold;">(Paid)</span>';
      payBtn.style.display = 'none';
    };
    window.onclick = function(event) {
      if (event.target == modal) {
        modal.style.display = 'none';
      }
    };
  </script>
<script>
    // Place this after all other scripts, at the end of <body>
    if (!window?.posthog) {
        console.warn('PostHog must be added to the window object on this page, for this to work. This is normally done in the loaded callback of your posthog init code.')
    } else {
        window.posthog.loadToolbar({
            "action": "ph_authorize",
            "token": "phc_AAPG4bGlc3lLS5sWb9nRw9xwyhTYKRu0JVhmYTwlk7B",
            "temporaryToken": "sEpyQ6TdYBZagLduB7IH7V0GTDzzyGTY70SvQ8MeriM",
            "actionId": null,
            "experimentId": null,
            "userIntent": "add-action",
            "toolbarVersion": "toolbar",
            "apiURL": "https://us.posthog.com",
            "dataAttributes": ["data-attr"],
            "instrument": true,
            "userEmail": "dungo@dungodigital.io",
            "distinctId": "p9Agl9BObfmIhbNEZwo3UMogZYFMWJs1KNpMiBPd1oI"
        });
    }
  </script>
</body>
</html>