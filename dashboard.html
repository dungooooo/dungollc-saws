<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>SAWS Demo Dashboard</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <h1>SAWS Demo Dashboard</h1>
    <div id="userInfo"></div>
    <div class="bill-section">
      <h2>Balance Due</h2>
      <div class="balance-due">$92.10 <span style="color:#e53e3e;font-weight:bold;">(Unpaid)</span></div>
      <div class="last-payment">Last Payment: $87.23 on 2025-08-15</div>
      <div class="charges-due">Current Charges Due: <strong>$92.10</strong> <span style="font-size:12px;color:#888;">Any unpaid previous balance is due NOW</span></div>
      <button id="payNowBtn" class="pay-btn">Pay Now</button>
    </div>
    <div id="paymentModal" class="modal" style="display:none;">
      <div class="modal-content">
        <span class="close" id="closeModal">&times;</span>
        <h2>Enter Payment Info</h2>
        <form id="paymentForm">
          <label>Name on Card</label>
          <input type="text" required><br>
          <label>Card Number</label>
          <input type="text" maxlength="16" required><br>
          <label>Expiry</label>
          <input type="text" placeholder="MM/YY" required><br>
          <label>CVV</label>
          <input type="text" maxlength="4" required><br>
          <button type="submit" class="pay-btn">Confirm Payment</button>
        </form>
      </div>
    </div>
    <div id="confirmation" style="display:none;text-align:center;margin-top:20px;">
      <h2 style="color:#38a169;">Payment Successful!</h2>
      <p>Your bill has been paid.</p>
    </div>
  </div>
  <script>
    // Parse query parameters
    var params = new URLSearchParams(window.location.search);
    var user = params.get('user');
    var account = params.get('account');
    document.getElementById('userInfo').innerHTML = `
      <p><strong>User:</strong> ${user ? user : 'Demo User'}</p>
      <p><strong>Account ID:</strong> ${account ? account : 'N/A'}</p>
    `;

    // Payment modal logic
    var payBtn = document.getElementById('payNowBtn');
    var modal = document.getElementById('paymentModal');
    var closeModal = document.getElementById('closeModal');
    var paymentForm = document.getElementById('paymentForm');
    var confirmation = document.getElementById('confirmation');

    payBtn.onclick = function() {
      modal.style.display = 'block';
    };
    closeModal.onclick = function() {
      modal.style.display = 'none';
    };
    paymentForm.onsubmit = function(e) {
      e.preventDefault();
      modal.style.display = 'none';
      confirmation.style.display = 'block';
      document.querySelector('.balance-due').innerHTML = '$0.00 <span style="color:#38a169;font-weight:bold;">(Paid)</span>';
      payBtn.style.display = 'none';
    };
    window.onclick = function(event) {
      if (event.target == modal) {
        modal.style.display = 'none';
      }
    };
  </script>
</body>
</html>